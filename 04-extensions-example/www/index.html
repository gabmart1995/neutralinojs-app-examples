<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello Neutralinojs</title>
    <style>
      body { background-color: white; }
    </style>
  </head>
  <body>
    it's works
    <script src="neutralino.js"></script>
    <script>
        Neutralino.init();

        let extension = 'js.neutralino.sampleextension';
        let event = 'eventToExtension';
        let data = 'Hello extension';
        //let data = {testValue: 10}

        
        Neutralino.events.on("windowClose", () => {
            Neutralino.app.exit();
        });

        (async () => {
          try {

            // verificamos el listado de extensiones en la app
            let stats = await Neutralino.extensions.getStats();
            
            /*console.log({
              message: 'Extension conectada con Ã©xito',
              stats
            });*/

            // procedemos a mandar el mensaje a la extension
            await Neutralino.extensions.dispatch(extension, event);
          
          } catch (error) {
            console.error(error);

          }
        })();

        
        /*const input = document.getElementById('input');
        const output = document.getElementById('output');

        const socket = new WebSocket('ws://localhost:8080/echo');

        socket.onopen = function() {
            output.innerHTML += 'Status: Connected\n';
        }

        socket.onmessage = function(event) {
            output.innerHTML += 'Server: ' + event.data + '\n';
        }

        function send() {
            socket.send(input.value);
            input.value = '';
        }*/
    </script>
  </body>
</html>
